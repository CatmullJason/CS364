## 4.2.2 Controller Classes

The Controller classes contain all the methods that are necessary to work with the data in the model classes. These Controller classes also include the facade classes which allow developers to more easily interact with interfaces such as the system database and external APIs.

### 4.2.2.1 Calendar Item Controller

<table>
  <tr>
    <th colspan = "3">Class Name: Calendar Item Controller</th>
  </tr>
  <tr>
    <td colspan = "3">Brief Description: The Calendar Item Controller(C.I. Controller) class is responsible for retrieving event and assignment data from the system and 
	sending it to the user display. The C.I. Controller creates Assignments by accessing I-Learn through the I-Learn Facade class and stores the data in assignment class objects.
	The C.I. Controller stores calendar items into the system database by using the Database Facade class for future access. </td>
  </tr>
  </table>
  <table>
  <tr>
    <th>Attributes(Fields)</th>
    <th colspan = "2">Attribute Description</th>
  </tr>
  <tr>
    <td>Assignment List</td><td colspan = "2">The List of I-learn Assignments for the student</td>
  </tr>
  <tr>
    <td>Event List</td><td colspan = "2">The list of all calendar events that the user has created.</td>
  </tr>
  <tr>
    <td>Notification List</td><td colspan = "2">The list of all notifications that the user has created.</td>
  </tr>
  <tr>
    <td>I-Learn Facade</td><td colspan = "2">An Instance of the I-Learn Facade class that is used to pull data from the BYU-I I-Learn system.</td>
  </tr>
  <tr>
    <td>Database Facade</td><td colspan = "2">An Instance of the Database Facade class that is used to store and retrieve data from the account database.</td>
  </tr>
  <tr>
    <td>Student</td><td colspan = "2">The student class object. Holds the data for the student using the system.</td>
  </tr>
  <tr>
    <th>Methods(operations) </th>
    <th></th>
  </tr>
  <tr>
    <td rowspan = "4">addEvent</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method creates a new Event calendar item to be added to the calendar. The user enters the event name, description, and sets how often the event will occur
	on the calendar. The weekly occurrence determines how often the event will reoccur for the long term(weekly, monthly, quarterly, etc.) and the daily occurrence
	determines which days of the week the event will occur on. 
	A new event is created with the passed parameters, stored in the database, and is then returned to the U.I. Controller class to display to the user. See use case 3.4.1.2 for details.
	
Parameters:
Event Info- Information submitted by the user including the event name, description, weekly occurence, and the daily occurence. This information is used to create a new event object.

Return:
The Event object that is created.
	</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>addEvent(eventName, eventDescription, eventWeeklyOccurrence, eventDailyOccurrence[]):</br> 
  eventOccurrenceNumber = convert Day Array into number(eventOccurrence[])</br>	
  newEvent = create Event(eventName, eventDescription, eventFrequency, eventOccurrenceNumber)</br>
  DatabaseFacade.addEvent(newEvent)</br>
  return newEvent</td>
  </tr>
  <tr>
    <td rowspan = "4">loadAssignments()</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method loads assignments from I-Learn through using the I-Learn Facade class. The assignments are pulled from I-learn, stored in an array
	of assignment objects, and return to the C.I. Controller. The assignments are then stored into the database through the database facade class. Finally 
	the assignments are sent to the U.I. Controller to be added to the calendar display. This method is called whenever the user chooses to import assignments
	from I-Learn. See use case 3.4.7.0 for details.
Parameters:
None

Return:
The list of assignments pulled from I-learn</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>loadAssignments(User):</br> 
  I-LearnFacade.Login(User.username, User.password)</br>	
  assignments = I-LearnFacade.getAssignments()</br>
  DatabaseFacade.addAssignments(assignments)</br>
  return assignments</td>
  </tr>
  <tr>
    <td rowspan = "4">addNotification</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method adds a notification to the system for the purpose of reminding the user of a calendar item at a later time. This method is called when the
	user creates a new notification for one of the items on their calendar. The calendar item object is passed into the method, a notification object is created and is linked 
	to the object. The notfication is stored into the database. If the method is successful then a boolean is returned as True to indicate success to the U.I.
	If the method fails "False" is returned and the U.I. displays an error message.
	See use case 3.4.2 for details of when this function is used.
	
Parameters:
Calendar Item - The calendar Item object which the new notification will become associated with.

Return:
Boolean that is true if the procedure was successful, false if an error occured.</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>addNotification(CalendarItem):</br> 
  newNotification = create Notification(CalendarItem)</br>
  DatabaseFacade.addNotification(newNotification)</br>
  if successful:</br>
  return true</br>
  else</br>
  return false </td>
  </tr>
  <tr>
    <td rowspan = "2">editEvent(eventInfo)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method allows a user to modify the information for an event that already exists on their calendar. The method takes in the new event information
	provided by the user and saves those changes into the system database.
	
Parameters:
Event Info - Information submitted by the user including the event name, description, 
weekly occurence, and the daily occurence. This information is used to create a new event object..

Return:
Boolean that is true if the procedure was successful, false if an error occured.</td>
  </tr>
  <tr>
    <td rowspan = "2">importCalendarItems(API name)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method allows a user to import external calendar information into the system. The method takes in the name of an API(Google, Apple, etc.) which is used to determine
	which API call is needed in the Calendar Intgration Facade class. After the events are imported they are saved into the database and added to the display. If there
	is an error during the import process the procedure is aborted and the user is notified through an error message.
	
Parameters:
API name - A string identifier of which API the method will be using. It determines
	which API call is needed in the Calendar Intgration Facade class.

Return:
The imported calendar Items.</td>
  </tr>
  <tr>
    <td rowspan = "2">exportCalendarItems(API name)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method allows a user to export events from the Student Calendar system to an external calendar. The method takes in the name of an API(Google, Apple, etc.) which is used to determine
	which API call is needed in the Calendar Intgration Facade class. After the events are exported the user is notified. If an error occurs the procedure is aborted and the user is notified through an error message.
	
Parameters:
API name - A string identifier of which API the method will be using. It determines
which API call is needed in the Calendar Intgration Facade class.

Return:
Boolean that is true if the procedure was successful, false if an error occured.</td></td>
  </tr>
  <tr>
  </tr>
 <tr>
  </tr>
  <tr>
    <td rowspan = "2">syncAssignments()</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method allows the user to synchronize the assignments that are displayed on their Student Calendar with the assignments that exist on their I-learn account.
	The method pulls a list of the user's assignments from I-learn, updates the list that exists in the system database, and adds new assignments to the display. 
	If an error occurs the procedure is aborted and the user is notified through an error message.
	
Parameters:
None

Return:
The list of assignments pulled from I-Learn</td>
  </tr>
  <tr>
    <td rowspan = "2">loadCalendarItems(Student)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method loads the user's calendar item's when the user first logs in to the system. The method passes in the student class object containing the user data. This is used by the 
    database to retrieve all of the calendar items	associated with that student. If an error occurs the procedure is aborted and the user is notified through an error message.
Parameters:
Student - the student class object containing the user data. This is used by the 
database to retrieve all of the calendar items associated with that student.

Return:
collection of Calendar Items associated with that student.</td>
  </tr>
  </tr>
  
</table>

### 4.2.2.2 I-Learn Facade

<table width="100%">
  <tr>
    <th colspan = "3">Class Name: I-Learn</th>
  </tr>
  <tr>
    <td colspan = "3">Brief Description: The I-Learn class will pull the user's information, assignments and courses from I-Learn using the Desire To Learn API. This class will interact with the Calendar Item Controller class to provide assignments (4.2.2.1). </td>
  </tr>
  </table>
  <table>
  <tr>
    <th>Attributes(Fields)</th>
    <th colspan = "2">Attribute Description</th>
  </tr>
  <tr>
    <td>credentials</td><td colspan = "2">The user's session credentials passed from I-Learn after authentication</td>
  </tr>
   <tr>
    <td>userId</td><td colspan = "2"> The user's unique id that is used to retrieve student information</td>
  </tr>
   <tr>
    <th>Methods(operations) </th>
    <th></th>
  </tr>
  <tr>
    <td rowspan = "4">login(username, password)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Authenticate with I-Learn, this is used by the Calendar Item Controller to first authenticate with I-Learn.</br>
    
  Parameters:</br>  
  username - A string of the username the student uses to login to I-Learn</br>
  password - A string of the password the student uses to login to I-Learn</br>
  </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>
    credentials = post('https://secure.byui.edu/cas/login?entityId=https://byui.brightspace.com/shibboleth-sp&service=https://shib.byui.edu/idp/Authn/Cas', auth=(username, password))</br>
    userId = get('https://byui.brightspace.com/d2l/api/lp/1.9/users/whoami')['id']
    </td>
  </tr>
  <tr>
    <td rowspan = "4">getCourse()</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method uses the D2L API to get the users course list. It then filters to make sure the course is active. These courses are stored in the Course class.</br> 
    Return:</br>
    Course object with all courses retrieved from I-Learn
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>
    courseList = get('https://byui.brightspace.com/d2l/api/lp/1.9/enrollments/myenrollments/?sortBy=-StartDate')</br>
    FOR course in courseList['Items']</br>
&nbsp;&nbsp;&nbsp;IF course['Access']['EndDate'] > currentDate and course['OrgUnit']['Type']['Id'] == 3</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempCourse = new Course</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempCourse.setName(course['OrgUnit']['Name'])</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempCourse.setId(course['OrgUnit']['Id'])</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempCourse.setStartDate(course['Access']['StartDate'])</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempCourse.setEndDate(course['Access']['EndDate'])</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;courses INSERT tempCourse</br>
    RETURN courses</br>
    </td>
  </tr>
  <tr>
    <td rowspan = "4">getAssignments()</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method loops through each class and using the D2L API, pulls each assignment for that class. Each assignment is added to an assignment object and returned.</br>
    Return:</br>
    Assignment object with all assignments from each course</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>
    FOR course in courses</br>
&nbsp;&nbsp;&nbsp;courseAssignments = get('https://byui.brightspace.com/d2l/api/le/1.18/content/myItems/?orgUnitIdsCSV=' + course.getId())</br>
&nbsp;&nbsp;&nbsp;FOR assignment in courseAssignments</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempAssignment = new Assignment</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempAssignment.DueDate = assignment.DueDate</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempAssignment.courseName = course.getName()</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempAssignment.assignmentDescription = assignment.ItemName</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF assignment.DueDate != NULL</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempAssignment.assignmentCompleted = TRUE</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempAssignment.assignmentCompleted = FALSE</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempAssignment.assignmentURL = assignment.href</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assignments[course.getId()] INSERT tempAssignment</br>
    RETURN assignments
    </td>
  </tr>
    <tr>
    <td rowspan = "4">getAssignmentURL(assignment)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Returns the url of the passed in assignment
    </br>
    Return:</br>
    A string with the URL of the assignment</td>
  </tr>
  <tr>
  </tr>
  <tr>
  </tr>
</table>


### 4.2.2.3 Student Controller
<table>
  <tr>
    <th colspan = "3">Class Name: Student Controller</th>
  </tr>
  <tr>
    <td colspan = "3">Brief Description: The Student Controller class contains all the necessary methods for creating, modifying and deleting Student class objects. It interfaces with the Database Facade class (4.2.2.5) to save a student's information into the system database. It also loads a student's information from the Database Facade class. The Student Controller class is used by the U.I. Controller class (4.2.2.4) to pass student data between the system and the user. The Student Controller interfaces with the Log-In Use Case (3.2.7.0). It also interfaces with the Profile Settings use case (3.2.5.0 & 3.2.5.2) to set additional user settings.</td>
  </tr>
  </table>
  <table>
  <tr>
    <th>Attributes(Fields)</th>
    <th colspan = "2">Attribute Description</th>
  </tr>
  <tr>
    <td>Current Student</td><td colspan = "2">The student model class object that the Controller class is currently working with.</td>
  </tr>
  <tr>
    <th>Methods(operations) </th>
    <th></th>
  </tr>
  <tr>
    <td rowspan = "4">addStudent</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Creates a new Student model object using input provided by the User. This is called when a new user registers with the system for the first time.</br>
    Parameters:
    Name - A string with the name of the student</br>
    Username - A string with the username of the student</br>
    Password - A string with the password of the student</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>addStudent(name, username, password):</br> 
  newStudent = create Student(name, username, password)</br>
  DatabaseFacade.saveStudent(newStudent)</td>
  </tr>
  <tr>
    <td rowspan = "4">loadStudent(username)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Retrieves a student by username from the Database Facade and returns that student object
    </br>
    Parameters:
    </br>Username - A string with the username of the student</br>
    </br>
    Return:</br>
    A student object with the desired student to retrieve</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>
  tempStudent = DatabaseFacade.loadStudent(username)</br>
  RETURN tempStudent
  </td>
  </tr>
    <tr>
    <td rowspan = "4">updateUserNotifications(notificationToggle)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Toggles notifications on or off for the student.    </br>
    Parameters:
    </br>notificationToggle - A boolean with on or off state for notifications</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td> 
  currentStudent.notifications = notificationToggle</br>
  DatabaseFacade.modifyStudentInfo(currentStudent)</td>
  </tr>
    <tr>
    <td rowspan = "4">verifyEmail(Email)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Verifies that the email address is associated with an account
        </br>
    Parameters:
    </br>Email - A string with the email of the student</br>
    </br>
    Return:</br>
    A boolean if the email matches an existing student account</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>
    IF currentStudent.email == Email</br>
    &nbsp;&nbsp;&nbsp;RETURN true</br>
    ELSE</br>
    &nbsp;&nbsp;&nbsp;RETURN false   
  	</td>
  </tr>
  <tr>
    <td rowspan = "4">setTimeZone(timeZone)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Sets the student's time zone
    </br>
    </br>
    Parameters:</br>
    timeZone - A string representation of the timezone
    </td>
  </tr>
  <tr>
  </tr>
  <tr>
  </tr>
  <tr>
    <td rowspan = "4">updatePassword(password)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Updates the student's password in the database
    </br>
    </br>
    Parameters:</br>
    password - A string with the student's password</td>
  </tr>
    </tr>
  <tr>
  </tr>
  <tr>
  </tr>
    <tr>
    <td rowspan = "4">updateUserInfo(UserInfo)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>Updates the current student with new user information    
    </br>
    </br>
    Parameters:</br>
    UserInfo - A Student object with student information</td>
  </tr>
    </tr>
  <tr>
  </tr>
  <tr>
  </tr>
</table>

### 4.2.2.4 UI Controller
<table>
  <tr>
    <th colspan = "3">Class Name: UI Controller</th>
  </tr>
  <tr>
    <td colspan = "3">Brief Description: The UI controller class is responsible for controlling everything the users can interact with. When a user interacts with anything in the app a request is sent to the UI controller class which will organize the information and send it to the appropriate class to be manipulated. If anything needs to be sent back for the user to view the UI controller class will receive the information and send it back to the UI layer to be displayed to the user. This class communicates with the database facade class to verify user credentials, the I-Learn facade class to retrieve assignment information, the student controller class to retrieve information about the current user, and the calendar item controller class to retrieve and update information about the user’s calendar.</td>
  </tr>
  </table>


  <table>
  <tr>
    <th>Attributes(Fields)</th>
    <th colspan = "2">Attribute Description</th>
  </tr>
  <tr>
    <td>eventId</td><td colspan = "2">The current event being viewed by the user.</td>
  </tr>
<tr>
    <td>searchQuery</td><td colspan = "2">The search information that was entered by the user into the search bar.</td>
  </tr>
<tr>
    <td>I-Learn Facade</td><td colspan = "2">An Instance of the I-Learn Facade class that is used to pull data from the BYU-I I-Learn system.</td>
  </tr>
<tr>
    <td>Database Facade</td><td colspan = "2">An Instance of the Database Facade class that is used to store and retrieve data from the account database.</td>
  </tr>
<tr>
    <td>Class</td><td colspan = "2">The university course that the user’s assignment was assigned from.</td>
  </tr>
  <tr>
    <td>Calendar View</td><td colspan = "2">The web app page that displays the user's calendar.</td>
  </tr>
  <tr>
    <td>I-Learn Credentials</td><td colspan = "2">The unique username and password that the user has already established with their university to login to the I-Learn application.</td>
  </tr>
  <tr>
    <th>Methods(operations) </th>
    <th></th>
  </tr>

<td rowspan = "4">openCalendar</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the application to have a functioning calendar. When the Calendar button is selected in the menu open the calendar view. The default view shows the current month.<br>
    Parameters:<br>
    Filters - the calendar filters previously selected by the user.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr> 
  <tr>
    <td>getEvents(filters)<br/>
        Return databaseQuery(filters)
    </td>
  </tr>

<td rowspan = "4">viewEvent</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the user to have and view events. When an event is clicked on in the Calendar a page is brought up that gives the event details.<br>
    Parameters:<br>
    eventId - the ID for the event that was selected by the user.<br>
    Return:<br>
    An event from the event class to be displayed<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>viewEvent(eventId)<br/>
return event FROM eventTable WHERE eventId = eventId</td>
  </tr>

<td rowspan = "4">viewSelection</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Lets the user view all of their events in a specific date range. After a range is selected by the user the event information for the events included in that range are displayed back to the user.<br>
    Parameters:<br>
    startDate - the date the user specifies to start listing events.<br>
    endDate - the date the user specifies to stop listing events.<br>
    class - the course the student is currently viewing.<br>
    Return:<br>
    Each event that falls within the specified range.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>viewSelection(startDate, endDate, class)<br/>
  If class has no data<br/>
    return events FROM eventTable WHERE startDate = startDate AND endDate = endDate<br/>
If only one class<br/>
return events FROM eventTable WHERE startDate = startDate AND endDate = endDate AND class = class<br/>
else<br/>
  return for each class in class<br/>
    events FROM eventTable WHERE startDate = startDate AND endDate = endDate AND class = class<br/></td>
</tr>

<td rowspan = "4">createEvent</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the user to create their own unique events. When the plus shaped button is selected on the bottom right of the calendar view it opens a form with different fields to be filled out by the user.<br>
    Parameters:<br>
    eventId - the ID for the event that was selected by the user.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>createEvent(eventId)<br>
New Event = CalendarItemController.addEvent(EventId)<br>
return New Event</td>
  </tr>

<td rowspan = "4">searchCalendar</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>This method lets the user search their entire calendar for events and assignments. When the search button is selected the search query that is filled into the search bar is compared to the data stored in the database for that user. All matching events and assignments are displayed on the screen.<br>
    Parameters:<br>
    searchQuery - the text that was entered into the search bar.<br>
    Return:<br>
    Each event that matches the search query.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>searchCalendar(searchQuery)<br>
return events FROM eventTable WHERE eventName LIKE searchQuery OR eventDescription LIKE searchQuery
  </tr>
  
<td rowspan = "4">createAccount</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Lets the user create an account so they can save all of their personal information and come back to it later. When the user clicks create account the I-Learn login credentials are passed to the I-LearnFacade class which verifies if they are correct.<br>
    Parameters:<br>
    username - the user's username.<br>
    password - the user's password.<br>
    Return:<br>
    A boolean that is true if creating account was successful.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>createAccount(username, password) {<br>
  If (verifyAccount(username, password)<br>
  return true
  </tr>

<td rowspan = "4">login</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the user to log back into their account and view all of their personal assignments and calendar. When the user clicks login the login credentials are passed to the databaseFacade class which verifies if they are correct.<br>
    Parameters:<br>
    username - the user's username.<br>
    password - the user's password.<br>
    Return:<br>
    A boolean that is true if creating account was successful.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>login(username, password) {<br>
  If (verifyLogin(username, password)<br>
  return true
  </tr>

<td rowspan = "2">recoverPassword</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the user to recover a forgotten password. The request is sent to the database facade class which sends the user an email to the email address provided allowing them to retrieve their information.<br>
    Parameters:<br>
    email - the user's email.<br>
    Return:<br>
    A boolean that is true if recovery was successful.<br>
    </td>
  </tr>

  <td rowspan = "2">recoverUsername</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the user to recover a username. The request is sent to the database facade class which sends the user an email to the email address provided allowing them to retrieve their information.<br>
    Parameters:<br>
    email - the user's email.<br>
    Return:<br>
    A boolean that is true if recovery was successful.<br>
    </td>
  </tr>

<td rowspan = "4">createNotification</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>This method is necessary to send the user notifications about their upcoming due dates and events. The calendarController class will check periodically for upcoming due dates. When an assignment’s due date is close it will send the information to the createNotification function in the UI controller class which will generate a push notification.<br>
    Parameters:<br>
    assignment - an object of type Assignment that holds all of the information about the assignment that is due.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>createNotification(Assignment assignment) {
  pushNotification(“Assignment: “ assignment.name “is due in 2 days.”) }
  </tr>

<td rowspan = "4">addToDoAssignment</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the user to create their own entries to be added to the To-Do list. After the user clicks “Add To-Do Item” they are presented with a form to submit a custom entry in their To-Do list. Hitting submit will call this function which relays the information to the databaseFacade class where it will be stored in the database.<br>
    Parameters:<br>
    customToDo - a toDo object that holds all of the information about a to-do list entry.<br>
    Return:<br>
    A boolean that is true if adding the to-do list item was successful.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>addToDoAssignment(toDo customToDo) {<br>
  if (INSERT INTO toDoList VALUES(customToDo)) <br>
    return true }
  </tr>

<td rowspan = "4">removeToDoAssignment</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Removes a user specified item from the To-Do list. After the user clicks “Remove To-Do Item” next to a To-Do list entry this function relays the information to the databaseFacade class where it will be removed from the database.<br>
     Parameters:<br>
    toDo - a toDo object that holds all of the information about a to-do list entry.<br>
    Return:<br>
    A boolean that is true if adding the to-do list item was successful.<br>
     </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>removeToDoAssignment(toDo toDo) { <br>
    if REMOVE FROM toDoList VALUES(toDo)  <br>
    return true }
  </tr>

<td rowspan = "2">get_Ilearn_Assignments</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Allows the user to import their assignments from I-Learn. Sends a request to the I-Learn facade class which retrieves the assignments and sends them to the Database Facade class to be stored.</td>
  </tr>

  <td rowspan = "4">sendNotification</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>This method allows the user to share a notification they have recieved with other users. To share the user clicks the share button when a notification is recieved and then specifies which users to share with. The UI Controller class sends this information to the other users and displays a confiramtion message to the user.<br>
      Parameters:<br>
    notification - the notification that will be sent to other user's.<br>
    users - an array holding every user's ID that will recieve the notification.<br>
    </td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>sendNotification(notification, users) { <br>
        for each user { <br>
         notification.send(user[i]) } }
  </tr>

<td rowspan = "2">importCalendar</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Enables the user to import a calendar from one of the supported calendar APIs. In the calendar settings the user selects import calendar and specifies which calendar they would like to import. The UI controller class sends this information to the Calendar Item Controller which makes the request to the Calendar Integration Facade. The user is then notified if the integration was successful or not.<br>
      Parameters:<br>
    apiName - the name of the API that hosts the specified calendar.<br>
    Return:<br>
    A boolean that is true if adding the calendar was successful.<br>
    </td>
  </tr>

  <td rowspan = "2">exportCalendar</td>
    <th>Method Description</th>
  </tr>
  <tr>
    <td>Enables the user to export their calendar to one of the supported calendar APIs. In the calendar settings the user selects export calendar and specifies which calendar api they would like to export to. The UI controller class sends this information to the Calendar Item Controller which makes the request to the Calendar Integration Facade. The user is then notified if the export was successful or not.<br>
    Parameters:<br>
    apiName - the name of the API that will recieve the user's calendar.<br>
    Return:<br>
    A boolean that is true if exporting the calendar was successful.<br>
    </td>
  </tr>
</table>

### 4.2.2.5 Database Facade 
<table>
  <tr>
    <th colspan = "3">Class Name: Database Facade</th>
  </tr>
  <tr>
    <td colspan = "3">Description: The Database Facade class is responsible for storing and retrieving data from the system database. The database facade class interfaces with each of the controller classes, allowing them to easily save and load data from the database. It's use in the overall scheme of the project is to allow the saving of user data to a given device. The abstraction of the database in this way allows for an easier implementation of its functions by other classes.</td>
  </tr>
  </table>
  <table>
  <tr>
    <th>Attributes(Fields)</th>
    <th colspan = "2">Attribute Description</th>
  </tr>
  <tr>
    <td>Connection</td><td colspan = "2">A connection that links the database facade to the database</td>
  </tr>
  <tr>
    <td>Database URL</td><td colspan = "2">A string containing the address to the database.</td>
  </tr>
  <tr>
    <td>Student</td><td colspan = "2">The student model class object that the Controller class is currently working with.</td>
  </tr>
  <tr>
    <th>Methods(operations) </th>
    <th></th>
  </tr>
  <tr>
    <td rowspan = "4">saveEvent(Event)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method inserts a new event that a user has created into the system database. It returns true if the event was successfully saved
	and false if there was an error.</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>saveEvent(Event):</br> 
	  Open connection to database using Connection</br>
	  Insert event into Event table in database</br>
	  Close Connection</br>
	  if successful: return true</br>
	  else: return false</br>
  </td>
  </tr>
  <tr>
    <td rowspan = "4">SaveAssignments(Assignments[])</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method inserts a list of assignments retrieved from I-Learn into the system database. It returns true if the assignments were successfully saved
	and false if there was an error.</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>SaveAssignments(Assignments[]):</br> 
	Open connection to database using Connection</br>
	for each assignment in the list of Assignments:</br>
	&nbsp;&nbsp;&nbsp;Insert assignment into assignment table in database</br>
	Close Connection</br>
	if successful: return true</br>
	else: return false</br>
    </td>
  </tr>
  <tr>
    <td rowspan = "4">saveNotification(Notification)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method inserts a new notification that the user has created into the system database.It returns true if the notification was successfully saved
	and false if there was an error.</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>saveNotification(Notification):</br> 
	Open connection to database using Connection</br>
	Insert Notification into notification table in database</br>
	Close Connection</br>
  if successful: return true</br>
  else: return false</br>
  </td>
  </tr>
  <tr>
    <td rowspan = "4">saveStudent(Student)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method inserts a new Student into the database. This method is called whenever a user creates a new account or the user 
	has modified some of their account information. It returns true if the Student was successfully saved
	and false if there was an error.</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>saveStudent(Student):</br> 
	Open connection to database using Connection</br>
	Insert Student into Student table in database</br>
	Close Connection</br>
	if successful: return true</br>
	else: return false</br>
  </td>
  </tr>
  <tr>
    <td rowspan = "4">verifyLogin(username, password)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method checks the database for a username and verifies that the password that is typed in by the user matches with the password
	that is contained in the database. If the username and password found in the database match what was typed in by the user the method returns true. 
	If the username is not found in the database or the passwords do not match, the method returns false.</td>
  </tr>
  <tr>
    <th>Method Pseudo Code</th>
  </tr>
  <tr>
    <td>verifyLogin(username, password):</br> 
	Open connection to database using Connection</br>
	Student = lookup username in Student table in database and return matching student</br>
	Close Connection</br>
	if username is not found:</br> 
	&nbsp;&nbsp;&nbsp;return false </br>
	if Student.password is equal to password:</br>
	&nbsp;&nbsp;&nbsp;return true</br>
	else: return false</br>
  </td>
  </tr>
   <tr>
    <td rowspan = "2">loadCalendarItems(Student)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method loads the user's calendar item's when the user first logs in to the system. 
	If an error occurs the procedure is aborted and the user is notified through an error message.
	
Parameters:
Student - the student class object containing the user data. This is used by the 
database to retrieve all of the calendar items associated with that student.

Return:
collection of Calendar Items associated with that student.</td>
  </tr>
  <tr>
  </tr>
    <tr>
    <td rowspan = "2">loadToDoList()</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method loads the user's assignments from the database to be included in the To do List.
	If an error occurs the procedure is aborted and the user is notified through an error message.
	
Parameters:
none

Return:
List of Assignments to be added to the To Do list.</td>
  </tr>
  <tr>
  </tr>
  <tr>
    <td rowspan = "2">deleteToDoListItem(Assignment)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method removes a selected assignment from the database.
	If an error occurs the procedure is aborted and the user is notified through an error message.

Parameters:
Assignment - the assignment object that has been marked by the Student for deletion from the Calendar.

Return:
Boolean that is true if the procedure was successful, false if an error occured.</td>
  </tr>
  <tr>
  </tr>
  <tr>
    <td rowspan = "2">saveImportedCalendarItems(Events)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method stores all imported information received from an external calendar.
	If an error occurs the procedure is aborted and the user is notified through an error message.

Parameters:
Events - Calendar Events imported from the external Calendar.

Return:
Boolean that is true if the procedure was successful, false if an error occured.</td>
  </tr>
  <tr>
  </tr>
   <tr>
  </tr>
  <tr>
    <td rowspan = "2">modifyStudentInfo(Student)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method allows a user to modify their personal account information. The passed information is saved into the database.
	If an error occurs the procedure is aborted and the user is notified through an error message.

Parameters:
Student - The Student object whose information is being updated through the profile settings.

Return:
Boolean that is true if the procedure was successful, false if an error occurred.</td>
  </tr>
  <tr>
  </tr>
</table>

### 4.2.2.6 Calendar Integration Facade 
<table>
  <tr>
    <th colspan = "3">Class Name: Calendar Integration Facade</th>
  </tr>
  <tr>
    <td colspan = "3">Brief Description: The Calendar Integration Facade class (3.4.2) is responsible for interacting with external calendar APIs or iCalendar files. One aspect of the interaction is importing events in an external calendar into the Student Calendar (3.2.4.0). Another aspect of the interaction is to export calendar events from the Student Calendar to an external calendar (3.2.4.0).</td>
  </tr>
  </table>
  <table>
  <tr>
    <th>Attributes(Fields)</th>
    <th colspan = "2">Attribute Description</th>
  </tr>
  <tr>
    <td>Google Calendar API</td><td colspan = "2">An interface with Google Calendar. Version 3 of the API will be implemented (see references 1.5 for details)</td>
  </tr>
  <tr>
    <td>Apple Calendar API</td><td colspan = "2">An interface with Apple Calendar. This will be the EventKit Framework which allows the access of Apple Calendar events (see references 1.5 for details). The Minimum version available as of 2017 will be implemented.</td>
  </tr>
  <tr>
    <td>Outlook Calendar API</td><td colspan = "2">An interface with Outlook Calendar. The Minimum version available as of 2017 will be implemented(see references 1.5 for details).</td>
  </tr>
    <tr>
    <td>iCalendar</td><td colspan = "2">Holds iCalendar file information. Used for importing and exporting data to external calendars.</td>
  </tr>
  <tr>
    <th>Methods(operations) </th>
    <th></th>
  </tr>
  <tr>
    <td rowspan = "4">getImportedCalendarItems()</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method returns the imported calendar items.
        </br>
    </br>
    Return:</br>
    A list of Calendar Item objects with the items that are imported</td>
  </tr>
  <tr>
  </tr>
  <tr>
  </tr>
  <tr>
    <td rowspan = "4">exportCalendarItems(Event)</td>
    <th> Method Description</th>
  </tr>
  <tr>
    <td>This method exports an event into the desired calendar integration.    </br>
    Parameters:
    </br>Event - A Calendar Item</br></td>
  </tr>
  <tr>
  </tr>
  <tr>
  </tr>
  
</table>

